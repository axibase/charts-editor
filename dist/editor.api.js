!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var r in o)("object"==typeof exports?exports:e)[r]=o[r]}}(self,function(){return function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="dist",o(o.s=121)}({121:function(e,t,o){var r,n;r=[o,t,o(122),o(123)],void 0===(n=function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.editorActions=new o.EditorActions}return e.prototype.initWorkers=function(t){if(!t)throw new Error("Can't create workers — worker paths are missing");self.MonacoEnvironment={getWorker:function(o,r){return"axibaseCharts"===r?new Worker(t.ChartsWorker+"?v="+e.VERSION):new Worker(t.EditorWorker)}}},e.prototype.create=function(e){return this.editorActions.initEditor(e),this.editorActions.chartsEditor},e.prototype.fromTextArea=function(e,t){return e?(e.style.display="none",t.value=e.value,this.create(t)):(console.warn("Can't create editor from textarea. Element is missing"),null)},e.VERSION=r.version,e}();t.API=new n}.apply(t,r))||(e.exports=n)},122:function(e,t,o){var r;void 0===(r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){},r=function(){function e(){}return e.prototype.initEditor=function(t){if(!this.chartsEditor){var r=t.editorId||"editorHolder",i=t.language||"axibaseCharts",a=t.value||"",s=t.theme||"chartsTheme",c=t.fontFamily||"Source Code Pro",d=t.fontSize||12,u=t.onChange instanceof Function?t.onChange:o,l=t.onSave instanceof Function?t.onSave:o;n.init({fontSize:d});var p=document.getElementById(r);if(p){this.chartsEditor=monaco.editor.create(p,{theme:s,value:a,language:i,fontSize:n.get("fontSize")||d,fontFamily:c,minimap:{enabled:!1},lineNumbersMinChars:4,lineDecorationsWidth:.5,scrollBeyondLastLine:!1});var f=this.createFontControls();p.appendChild(f),p.addEventListener("mouseover",function(){f.style.opacity="1"}),p.addEventListener("mouseout",function(){f.style.opacity="0"}),this.chartsEditor.getModel().onDidChangeContent(u),e.saveEditorContents.bind(null,l)}else console.log("Editor holder with id «"+r+"» not found")}},e.saveEditorContents=function(e){void 0===e&&(e=o),e()},e.prototype.insertEditorValue=function(e){if(this.chartsEditor){var t=this.chartsEditor.getModel().getLineCount();e="\t"+e.replace(/(\r?\n)/g,"$1\t"),e=t>1?"\n\n"+e:e;var o={identifier:{major:1,minor:1},range:new monaco.Range(t+1,1,t+1,1),text:e,forceMoveMarkers:!0};this.chartsEditor.executeEdits("onPaste",[o])}},e.prototype.getEditorValue=function(){return this.chartsEditor?this.chartsEditor.getValue():""},e.prototype.formatEditorContents=function(){this.chartsEditor&&this.chartsEditor.trigger(this.getEditorValue(),"editor.action.formatDocument",{})},e.prototype.resizeEditor=function(){this.chartsEditor&&this.chartsEditor.layout()},e.prototype.focus=function(){this.chartsEditor&&this.chartsEditor.focus()},e.prototype.createFontControls=function(){var e=this,t=document.createElement("div");t.classList.add("font-controls");var o=document.createElement("div");o.className+=" btn-minus control-button",o.addEventListener("click",function(){e.chartsEditor.getAction("editor.action.fontZoomOut").run().then(function(){return n.update("fontSize",e.chartsEditor.getConfiguration().fontInfo.fontSize)})});var r=document.createElement("div");r.className+=" btn-plus control-button",r.addEventListener("click",function(){e.chartsEditor.getAction("editor.action.fontZoomIn").run().then(function(){return n.update("fontSize",e.chartsEditor.getConfiguration().fontInfo.fontSize)})});var i=document.createElement("div");return i.className+=" btn-label control-button",t.appendChild(o),t.appendChild(i),t.appendChild(r),t},e}();t.EditorActions=r;var n={init:function(e){try{if(localStorage.getItem("ChartsEditorSettings"))return;localStorage.setItem("ChartsEditorSettings",JSON.stringify(e))}catch(e){console.warn("Couldn't set initial editor's settings:",e.message)}},update:function(e,t){try{var o=JSON.parse(localStorage.getItem("ChartsEditorSettings"));o[e]=t,localStorage.setItem("ChartsEditorSettings",JSON.stringify(o))}catch(e){console.warn("Couldn't update editor's settings:",e.message)}},get:function(e){try{return JSON.parse(localStorage.getItem("ChartsEditorSettings"))[e]}catch(t){console.warn("Couldn't read editor's setting,",e,":",t.message)}return null}};window.addEventListener("keydown",function(e){83===e.keyCode&&(e.ctrlKey||e.metaKey)&&(r.saveEditorContents(),e.preventDefault(),e.stopPropagation())})}.apply(t,[o,t]))||(e.exports=r)},123:function(e){e.exports=JSON.parse('{"name":"@axibase/charts-editor","version":"0.0.10","main":"index.js","dependencies":{"@axibase/charts-language-service":"github:axibase/charts-language-service","monaco-editor":"^0.17.0"},"scripts":{"build":"webpack --mode=production","clean":"rimraf dist monaco-editor-core","copy":"mkdir monaco-editor-core && ncp ./node_modules/monaco-editor-core ./monaco-editor-core","change-files":"ncp monaco-patch/mouseHandler.js monaco-editor-core/esm/vs/editor/browser/controller/mouseHandler.js && ncp  monaco-patch/scrollableElement.js monaco-editor-core/esm/vs/base/browser/ui/scrollbar/scrollableElement.js","patch-monaco":"npm i && npm run clean && npm run copy && npm run change-files","upgrade-editor":"npm update @axibase/charts-language-service && npm run update-resources && npm run build","update-resources":"cp node_modules/@axibase/charts-language-service/src/resources/**.json ./src && cp node_modules/@axibase/charts-language-service/src/resources/descriptions.md ./src && cp node_modules/@axibase/charts-language-service/src/resources/snippets/snippets.json ./snippets"},"repository":"https://github.com/axibase/charts-editor","author":"Axibase Developers","license":"Apache-2.0","bugs":{"url":"https://github.com/axibase/charts-editor/issues"},"homepage":"https://github.com/axibase/charts-editor#readme","devDependencies":{"copy-webpack-plugin":"^5.0.3","css-loader":"^2.1.1","monaco-editor-core":"^0.16.0","ncp":"^2.0.0","raw-loader":"^2.0.0","rimraf":"^2.6.3","ts-loader":"^6.0.1","tslint":"^5.17.0","typescript":"^3.4.5","vscode-languageserver-types":"^3.14.0","webpack":"^4.32.2","webpack-cli":"^3.3.2","webpack-dev-server":"^3.4.1"}}')}})});